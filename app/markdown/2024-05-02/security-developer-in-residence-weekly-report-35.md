# Isolating risk in the CPython release process

<blockquote>
  <center>This critical role would not be possible without funding from the <a href="https://alpha-omega.dev">Alpha-Omega project</a>. Massive thank-you to Alpha-Omega for investing in the security of the Python ecosystem!</center>
</blockquote>

A few weeks ago I [published](http://sethmlarson.dev/security-developer-in-residence-weekly-report-33) that CPythons' release process for source and docs artifacts was moved from developers machines
onto GitHub Actions, which provides an isolated build environment.

This already reduces risk of artifacts being accidentally or maliciously modified during the release process.
The layout of the build and release process before used a build script which built the software from source, built the docs,
and then ran tests all in the same isolated job. This was totally fine on a developers' machine where there isn't any isolation possible
between different stages.

With GitHub Actions we can isolate each stage from the others and remove the need to install all dependencies for all
jobs into the same stage. This drastically reduces the number of dependencies, each representing a small amount of risk,
for the stages that are critical for supply chain security of CPython (specifically the building of source artifacts).

<center>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="601px" viewBox="-0.5 -0.5 601 322" style="max-width:100%;max-height:322px;"><defs/><g><g><rect x="350" y="190" width="100" height="60" fill="#f5f5f5" stroke="#000" pointer-events="all"/></g><g><rect x="470" y="70" width="100" height="60" fill="#f5f5f5" stroke="#000" pointer-events="all"/></g><g><rect x="350" y="70" width="100" height="60" fill="#f5f5f5" stroke="#000" pointer-events="all"/></g><g><rect x="90" y="70" width="100" height="180" fill="#f5f5f5" stroke="#000" pointer-events="all"/></g><g><path d="M 50 40 L 50 60 L 140 60 L 140 73.63" fill="none" stroke="#000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 140 78.88 L 136.5 71.88 L 140 73.63 L 143.5 71.88 Z" fill="#000" stroke="#000" stroke-miterlimit="10" pointer-events="all"/></g><g><rect x="0" y="0" width="100" height="40" fill="#dae8fc" stroke="#000" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 98px; height: 1px; padding-top: 20px; margin-left: 1px;"><div style="box-sizing: border-box; font-size: 0px; text-align: center;" data-drawio-colors="color: #000; "><div style="display: inline-block; font-size: 12px; font-family: monospace; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">Build Dependencies</div></div></div></foreignObject><text x="50" y="24" fill="#000" font-family="monospace" font-size="12px" text-anchor="middle">Build Dependenci...</text></switch></g></g><g><path d="M 140 240 L 140 260 L 80 260 L 80 273.63" fill="none" stroke="#000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 80 278.88 L 76.5 271.88 L 80 273.63 L 83.5 271.88 Z" fill="#000" stroke="#000" stroke-miterlimit="10" pointer-events="all"/></g><g><rect x="100" y="80" width="80" height="40" fill="#dae8fc" stroke="#000" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 78px; height: 1px; padding-top: 100px; margin-left: 101px;"><div style="box-sizing: border-box; font-size: 0px; text-align: center;" data-drawio-colors="color: #000; "><div style="display: inline-block; font-size: 12px; font-family: monospace; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">Build Source</div></div></div></foreignObject><text x="140" y="104" fill="#000" font-family="monospace" font-size="12px" text-anchor="middle">Build Source</text></switch></g></g><g><rect x="40" y="280" width="80" height="40" fill="#dae8fc" stroke="#000" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 78px; height: 1px; padding-top: 300px; margin-left: 41px;"><div style="box-sizing: border-box; font-size: 0px; text-align: center;" data-drawio-colors="color: #000; "><div style="display: inline-block; font-size: 12px; font-family: monospace; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">Source Artifacts</div></div></div></foreignObject><text x="80" y="304" fill="#000" font-family="monospace" font-size="12px" text-anchor="middle">Source Artifa...</text></switch></g></g><g><rect x="160" y="280" width="80" height="40" fill="#d5e8d4" stroke="#000" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 78px; height: 1px; padding-top: 300px; margin-left: 161px;"><div style="box-sizing: border-box; font-size: 0px; text-align: center;" data-drawio-colors="color: #000; "><div style="display: inline-block; font-size: 12px; font-family: monospace; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">Docs Artifacts</div></div></div></foreignObject><text x="200" y="304" fill="#000" font-family="monospace" font-size="12px" text-anchor="middle">Docs Artifacts</text></switch></g></g><g><path d="M 140 40 L 140 73.63" fill="none" stroke="#000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 140 78.88 L 136.5 71.88 L 140 73.63 L 143.5 71.88 Z" fill="#000" stroke="#000" stroke-miterlimit="10" pointer-events="all"/></g><g><rect x="100" y="0" width="80" height="40" fill="rgb(255, 255, 255)" stroke="#000" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 78px; height: 1px; padding-top: 20px; margin-left: 101px;"><div style="box-sizing: border-box; font-size: 0px; text-align: center;" data-drawio-colors="color: #000; "><div style="display: inline-block; font-size: 12px; font-family: monospace; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">Source<br />Code</div></div></div></foreignObject><text x="140" y="24" fill="#000" font-family="monospace" font-size="12px" text-anchor="middle">Source...</text></switch></g></g><g><path d="M 230 40 L 230 60 L 140 60 L 140 73.63" fill="none" stroke="#000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 140 78.88 L 136.5 71.88 L 140 73.63 L 143.5 71.88 Z" fill="#000" stroke="#000" stroke-miterlimit="10" pointer-events="all"/></g><g><rect x="180" y="0" width="100" height="40" fill="#d5e8d4" stroke="#000" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 98px; height: 1px; padding-top: 20px; margin-left: 181px;"><div style="box-sizing: border-box; font-size: 0px; text-align: center;" data-drawio-colors="color: #000; "><div style="display: inline-block; font-size: 12px; font-family: monospace; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">Docs Dependencies</div></div></div></foreignObject><text x="230" y="24" fill="#000" font-family="monospace" font-size="12px" text-anchor="middle">Docs Dependencies</text></switch></g></g><g><path d="M 370 40 L 370 60 L 400 60 L 400 73.63" fill="none" stroke="#000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 400 78.88 L 396.5 71.88 L 400 73.63 L 403.5 71.88 Z" fill="#000" stroke="#000" stroke-miterlimit="10" pointer-events="all"/></g><g><rect x="320" y="0" width="100" height="40" fill="#dae8fc" stroke="#000" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 98px; height: 1px; padding-top: 20px; margin-left: 321px;"><div style="box-sizing: border-box; font-size: 0px; text-align: center;" data-drawio-colors="color: #000; "><div style="display: inline-block; font-size: 12px; font-family: monospace; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">Build Dependencies</div></div></div></foreignObject><text x="370" y="24" fill="#000" font-family="monospace" font-size="12px" text-anchor="middle">Build Dependenci...</text></switch></g></g><g><path d="M 400 120 L 400 133.63" fill="none" stroke="#000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 400 138.88 L 396.5 131.88 L 400 133.63 L 403.5 131.88 Z" fill="#000" stroke="#000" stroke-miterlimit="10" pointer-events="all"/></g><g><rect x="360" y="80" width="80" height="40" fill="#dae8fc" stroke="#000" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 78px; height: 1px; padding-top: 100px; margin-left: 361px;"><div style="box-sizing: border-box; font-size: 0px; text-align: center;" data-drawio-colors="color: #000; "><div style="display: inline-block; font-size: 12px; font-family: monospace; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">Build Source</div></div></div></foreignObject><text x="400" y="104" fill="#000" font-family="monospace" font-size="12px" text-anchor="middle">Build Source</text></switch></g></g><g><path d="M 400 180 L 400 193.63" fill="none" stroke="#000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 400 198.88 L 396.5 191.88 L 400 193.63 L 403.5 191.88 Z" fill="#000" stroke="#000" stroke-miterlimit="10" pointer-events="all"/></g><g><path d="M 360 160 L 340 160 L 340 300 L 353.63 300" fill="none" stroke="#000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 358.88 300 L 351.88 303.5 L 353.63 300 L 351.88 296.5 Z" fill="#000" stroke="#000" stroke-miterlimit="10" pointer-events="all"/></g><g><rect x="360" y="140" width="80" height="40" fill="#dae8fc" stroke="#000" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 78px; height: 1px; padding-top: 160px; margin-left: 361px;"><div style="box-sizing: border-box; font-size: 0px; text-align: center;" data-drawio-colors="color: #000; "><div style="display: inline-block; font-size: 12px; font-family: monospace; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">Source Artifacts</div></div></div></foreignObject><text x="400" y="164" fill="#000" font-family="monospace" font-size="12px" text-anchor="middle">Source Artifa...</text></switch></g></g><g><rect x="480" y="280" width="80" height="40" fill="#d5e8d4" stroke="#000" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 78px; height: 1px; padding-top: 300px; margin-left: 481px;"><div style="box-sizing: border-box; font-size: 0px; text-align: center;" data-drawio-colors="color: #000; "><div style="display: inline-block; font-size: 12px; font-family: monospace; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">Docs Artifacts</div></div></div></foreignObject><text x="520" y="304" fill="#000" font-family="monospace" font-size="12px" text-anchor="middle">Docs Artifacts</text></switch></g></g><g><path d="M 460 40 L 460 60 L 400 60 L 400 73.63" fill="none" stroke="#000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 400 78.88 L 396.5 71.88 L 400 73.63 L 403.5 71.88 Z" fill="#000" stroke="#000" stroke-miterlimit="10" pointer-events="all"/></g><g><path d="M 460 40 L 460 60 L 500 60 L 500 73.63" fill="none" stroke="#000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 500 78.88 L 496.5 71.88 L 500 73.63 L 503.5 71.88 Z" fill="#000" stroke="#000" stroke-miterlimit="10" pointer-events="all"/></g><g><rect x="420" y="0" width="80" height="40" fill="rgb(255, 255, 255)" stroke="#000" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 78px; height: 1px; padding-top: 20px; margin-left: 421px;"><div style="box-sizing: border-box; font-size: 0px; text-align: center;" data-drawio-colors="color: #000; "><div style="display: inline-block; font-size: 12px; font-family: monospace; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">Source<br />Code</div></div></div></foreignObject><text x="460" y="24" fill="#000" font-family="monospace" font-size="12px" text-anchor="middle">Source...</text></switch></g></g><g><path d="M 550 40 L 550 60 L 520 60 L 520 73.63" fill="none" stroke="#000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 520 78.88 L 516.5 71.88 L 520 73.63 L 523.5 71.88 Z" fill="#000" stroke="#000" stroke-miterlimit="10" pointer-events="all"/></g><g><rect x="500" y="0" width="100" height="40" fill="#d5e8d4" stroke="#000" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 98px; height: 1px; padding-top: 20px; margin-left: 501px;"><div style="box-sizing: border-box; font-size: 0px; text-align: center;" data-drawio-colors="color: #000; "><div style="display: inline-block; font-size: 12px; font-family: monospace; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">Docs Dependencies</div></div></div></foreignObject><text x="550" y="24" fill="#000" font-family="monospace" font-size="12px" text-anchor="middle">Docs Dependencies</text></switch></g></g><g><path d="M 520 120 L 520 273.63" fill="none" stroke="#000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 520 278.88 L 516.5 271.88 L 520 273.63 L 523.5 271.88 Z" fill="#000" stroke="#000" stroke-miterlimit="10" pointer-events="all"/></g><g><rect x="480" y="80" width="80" height="40" fill="#d5e8d4" stroke="#000" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 78px; height: 1px; padding-top: 100px; margin-left: 481px;"><div style="box-sizing: border-box; font-size: 0px; text-align: center;" data-drawio-colors="color: #000; "><div style="display: inline-block; font-size: 12px; font-family: monospace; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">Build Docs</div></div></div></foreignObject><text x="520" y="104" fill="#000" font-family="monospace" font-size="12px" text-anchor="middle">Build Docs</text></switch></g></g><g><rect x="360" y="200" width="80" height="40" fill="#ffe6cc" stroke="#000" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 78px; height: 1px; padding-top: 220px; margin-left: 361px;"><div style="box-sizing: border-box; font-size: 0px; text-align: center;" data-drawio-colors="color: #000; "><div style="display: inline-block; font-size: 12px; font-family: monospace; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">Testing</div></div></div></foreignObject><text x="400" y="224" fill="#000" font-family="monospace" font-size="12px" text-anchor="middle">Testing</text></switch></g></g><g><path d="M 140 120 L 140 133.63" fill="none" stroke="#000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 140 138.88 L 136.5 131.88 L 140 133.63 L 143.5 131.88 Z" fill="#000" stroke="#000" stroke-miterlimit="10" pointer-events="all"/></g><g><path d="M 140 180 L 140 193.63" fill="none" stroke="#000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 140 198.88 L 136.5 191.88 L 140 193.63 L 143.5 191.88 Z" fill="#000" stroke="#000" stroke-miterlimit="10" pointer-events="all"/></g><g><rect x="100" y="140" width="80" height="40" fill="#d5e8d4" stroke="#000" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 78px; height: 1px; padding-top: 160px; margin-left: 101px;"><div style="box-sizing: border-box; font-size: 0px; text-align: center;" data-drawio-colors="color: #000; "><div style="display: inline-block; font-size: 12px; font-family: monospace; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">Build Docs</div></div></div></foreignObject><text x="140" y="164" fill="#000" font-family="monospace" font-size="12px" text-anchor="middle">Build Docs</text></switch></g></g><g><path d="M 140 240 L 140 260 L 200 260 L 200 273.63" fill="none" stroke="#000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 200 278.88 L 196.5 271.88 L 200 273.63 L 203.5 271.88 Z" fill="#000" stroke="#000" stroke-miterlimit="10" pointer-events="all"/></g><g><rect x="100" y="200" width="80" height="40" fill="#ffe6cc" stroke="#000" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 78px; height: 1px; padding-top: 220px; margin-left: 101px;"><div style="box-sizing: border-box; font-size: 0px; text-align: center;" data-drawio-colors="color: #000; "><div style="display: inline-block; font-size: 12px; font-family: monospace; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">Testing</div></div></div></foreignObject><text x="140" y="224" fill="#000" font-family="monospace" font-size="12px" text-anchor="middle">Testing</text></switch></g></g><g><rect x="360" y="280" width="80" height="40" fill="#dae8fc" stroke="#000" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 78px; height: 1px; padding-top: 300px; margin-left: 361px;"><div style="box-sizing: border-box; font-size: 0px; text-align: center;" data-drawio-colors="color: #000; "><div style="display: inline-block; font-size: 12px; font-family: monospace; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">Source Artifacts</div></div></div></foreignObject><text x="400" y="304" fill="#000" font-family="monospace" font-size="12px" text-anchor="middle">Source Artifa...</text></switch></g></g><g><path d="M 300 320 L 300 0" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/></g></g><switch><g requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"/><a transform="translate(0,-5)" xlink:href="https://www.drawio.com/doc/faq/svg-export-text-problems" target="_blank"><text text-anchor="middle" font-size="10px" x="50%" y="100%">Text is not SVG - cannot display</text></a></switch></svg>
<br><small><i>Before and after splitting up build stages</i></small>
</center>

Above you can see on the left the previous process which pulls all dependencies into the same job (represented as a gray box)
and the right being the new process having [split up the builds and testing](https://github.com/python/release-tools/pull/112)
and the [source and docs builds](https://github.com/python/release-tools/pull/120).

After doing this split the "Build Source" task only needs [~170 dependencies instead of over 800 dependencies](https://gist.github.com/sethmlarson/852ee40bdad62e47234d114878e69dc0) (mostly for documentation LaTeX and PDFs)
and all of those dependencies either come with the operating system and thus can't be reduced further or are pinned in
a lock file.

The testing stage still has access to the source artifacts, but only after they've been uploaded to GitHub Action Artifacts
and aren't able to modify them.

I plan to write a separate in-depth article about dependencies, pinning, and related topics, [stay tuned for that](https://buttondown.email/sethmlarson).

## SOSS Community Day 2024 recordings

The recordings for my talk and the OpenSSF tabletop session have been published
to [YouTube](https://www.youtube.com/watch?v=LRHHuGEYtsU&list=PLVl2hFL_zAh_3jWqopvHZgW_0s3aOPoCX):

<center>
<iframe width="560" height="315" src="https://www.youtube.com/embed/0CPJJZEFKIU?si=k8uXTKR79j5dPN_S" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
<small><i>Embrace the Differences: Securing open source software ecosystems where they are</i></small>
</center>

In the talk I discuss the technical and also social aspects of why it's sometimes difficult to
adopt security changes into an open source ecosystem. Ecosystem-agnostic work
(think memory safety, provenance, reproducible builds, vulnerabilities) tends to operate
at a much higher level than the individual ecosystems where the work ends up being applied.

**OpenSSF Tabletop Session**

The tabletop session had many contributors representing all the different
aspects of discovering, debugging, disclosing, fixing, and patching
a zero-day vulnerability in an open source component that's affecting
production systems.

<center>
<iframe width="560" height="315" src="https://www.youtube.com/embed/uP6X-mGyz1U?si=9TOoFRMLIiSuahkW" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
<small><i>Tabletop Session moderated by Dana Wang</i></small>
</center>

## Mentoring for Google Summer of Code

Google Summer of Code 2024 recently published its program and among the projects and contributors accepted
was [CPython's project](https://summerofcode.withgoogle.com/programs/2024/projects/007OisWP) for adopting the [Hardened Compiler Options Guide for C/C++](https://github.com/ossf/wg-best-practices-os-developers/blob/main/docs/Compiler-Hardening-Guides/Compiler-Options-Hardening-Guide-for-C-and-C%2B%2B.md).
I'm mentoring the contributor through the process of contributing to CPython and hopefully being successful
in [adopting hardened compiler options](https://github.com/python/cpython/issues/112301).

## Other items

* Windows artifacts on python.org will have Software Bill-of-Materials documents after the next
  CPython release. Final step of [uploading the documents to python.org](https://github.com/python/release-tools/pull/117) has been merged.
* SBOM generation has been [added to the Windows build scripts](https://github.com/python/cpython/pull/116138) for core developers using Windows.
* Working on [PyCon US 2024 talk](https://us.pycon.org/2024/schedule/presentation/148/) slides with Michael Winser.
* Co-authoring the ["Trusted Publishing for All Package Repositories" guide](https://github.com/ossf/wg-securing-software-repos/issues/42) for the OpenSSF Securing Software Repos WG.
* Submitted a few bugfixes and [released Truststore v0.9.0](https://github.com/sethmlarson/truststore/pull/136), [upgraded pip's vendored copy](https://github.com/pypa/pip/pull/12662).
* Created the [April report](https://github.com/ossf/alpha-omega/pull/361) for Alpha-Omega

That's all for this week! ðŸ‘‹ If you're interested in more you can read [last week's report](https://sethmlarson.dev/security-developer-in-residence-weekly-report-34).
